<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

        <!--=============================================================================
                Group Definitions
         ================================================================================-->

        <record id="group_plan_contratacion_idu_user" model="res.groups">
            <field name="implied_ids" eval="[(4, ref('stone_erp_idu.group_stone_idu')),(4,ref('base_map.group_base_map_reader'))]"/>
            <field name="name">Plan Contratacion User</field>
        </record>

        <record id="group_plan_contratacion_idu_manager" model="res.groups">
            <field name="implied_ids" eval="[(4, ref('stone_erp_idu.group_stone_idu')),(4,ref('base_map.group_base_map_reader'))]"/>
            <field name="name">Plan Contratacion Manager</field>
        </record>

        <record id="group_plan_contratacion_idu_analyst" model="res.groups">
            <field name="implied_ids" eval="[(4, ref('stone_erp_idu.group_stone_idu')),(4,ref('base_map.group_base_map_reader'))]"/>
            <field name="name">Plan Contratacion Analyst</field>
        </record>

<!--===================================================================================== 
                Menu Access
 ========================================================================================-->

        <record model="ir.ui.menu" id="menu_plan_contratacion">
                <field eval="[(4, ref('group_plan_contratacion_idu_user')),(4, ref('group_plan_contratacion_idu_manager')),(4, ref('group_plan_contratacion_idu_analyst'))]" name="groups_id"/>
        </record>
        
        <record model="ir.ui.menu" id="menu_plan_contratacion_plan_list">
                <field eval="[(4, ref('group_plan_contratacion_idu_user')),(4, ref('group_plan_contratacion_idu_manager')),(4, ref('group_plan_contratacion_idu_analyst'))]" name="groups_id"/>
        </record>


<!-- =============================================================================
                                Domain Constraints
;============================================================================= -->

        <record id="plan_contratacion_rule_user_plan" model="ir.rule">
            <field name="name">Item Plan Contratacion</field>
            <field name="model_id" ref="plan_contratacion_idu.model_plan_contratacion_idu_item"/>
            <field name="domain_force">[('dependencia_id','=',user.department_ids)]</field>
            <field name="groups" eval="[(4, ref('group_plan_contratacion_idu_user'))]"/>
        </record>

<!--  
['|',('employee_id.user_id','=',user.id),('employee_id.parent_id.user_id','=',user.id),('user_id','=',False)]</field>
[' |', ( ' department_id ', ' child_of ', [ user.department_id.id ] ) , (Falso , ' =', user.department_id )]
       <record id="plan_contratacion_rule_user_claims_res_users" model="ir.rule">
            <field name="name">User Claims</field>
            <field name="model_id" ref="base.model_res_users"/>
            <field name="domain_force">[('id','=',user.id)]</field>
            <field name="groups" eval="[(4, ref('group_plan_contratacion_user'))]"/>
        </record>

        <record id="plan_contratacion_rule_user_claims_res_users" model="ir.rule">
            <field name="name">User Claims</field>
            <field name="model_id" ref="base.model_res_users"/>
            <field name="domain_force">[(1,'=',1)]</field>
            <field name="groups" eval="[(4, ref('group_plan_contratacion_webservice'))]"/>
        </record>

        <record id="plan_contratacion_rule_manager_claims" model="ir.rule">
            <field name="name">Manager Claims</field>
            <field name="model_id" ref="model_crm_claim"/>
            <field name="domain_force">[(1,'=',1)]</field>
            <field name="groups" eval="[(4, ref('group_plan_contratacion_manager')),(4, ref('group_plan_contratacion_webservice'))]"/>
        </record>

        <record id="plan_contratacion_rule_for_citizen_service_office_users" model="ir.rule">
            <field name="name">Citizen Service Point to Users</field>
            <field name="model_id" ref="model_plan_contratacion_citizen_service_point"/>
            <field name="domain_force">[('users_id','=',user.id)]</field>
            <field name="groups" eval="[(4, ref('group_plan_contratacion_user'))]"/>
        </record> --> 

    </data>
</openerp>
