<?xml version="1.0" encoding="utf-8"?>
<openerp>
<data>
    <delete id="project.project_project_manager_rule" model="ir.rule"/>
    <delete id="project.project_public_members_rule" model="ir.rule"/>
    <delete id="portal_project_long_term.portal_project_long_term_rule" model="ir.rule"/>
    <delete id="portal_project_long_term.project_phase_anonymous_rule" model="ir.rule"/>

    <record model="ir.rule" id="project_project_user_view_owned">
        <field name="name">Project: Project user: see own projects</field>
        <field name="model_id" ref="model_project_project"/>
        <field name="domain_force">['|',('user_id', '=', user.id), ('members', '=', user.id)]</field>
        <field name="groups" eval="[(4,ref('project.group_project_user'))]"/>
    </record>

    <record model="ir.rule" id="project_phase_user_view_owned">
        <field name="name">Project/Phase: Users: see own phases</field>
        <field name="model_id" ref="project_long_term.model_project_phase"/>
        <field name="domain_force">['|',('project_id.user_id', '=', user.id),('project_id.members', '=', user.id)]</field>
        <field name="groups" eval="[(4, ref('project.group_project_user'))]"/>
    </record>

</data>
</openerp>