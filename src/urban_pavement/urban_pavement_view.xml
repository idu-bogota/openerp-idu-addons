<?xml version="1.0"?>
<openerp>
<data>

<menuitem name="Pavement Management System" id="menu_urban_pavement"/>
<menuitem name="Roadway Component" id="menu_urban_pavement_roadway_component" parent="menu_urban_pavement"  sequence="1"/>
<menuitem name="Domains" id="menu_urban_pavement_roadway_domains" parent="menu_urban_pavement"  sequence="2"/>


<!-- =================================================================================================
Severity
====================================================================================================== -->
<!-- Form View -->
<record model="ir.ui.view" id="view_urban_pavement_severity_form">
        <field name="name">urban_pavement.severity.form</field>
        <field name="model">urban_pavement.severity</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Severity">
                <field name="code"/>
                <field name="name"/>
            </form>
        </field>
</record>

<!-- Tree (List) View -->
<record model="ir.ui.view" id="view_urban_pavement_severity_tree">
        <field name="name">urban_pavement.severity.tree</field>
        <field name="model">urban_pavement.severity</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="Severity">
                <field name="code"/>
                <field name="name"/>
            </tree>
        </field>
</record>

<!-- Action -->
<record model="ir.actions.act_window" id="action_urban_severity">
        <field name="name">Severity</field>
        <field name="res_model">urban_pavement.severity</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
</record>
<!-- Menu -->
<menuitem name="Severity" id="menu_urban_pavement_severity" parent="menu_urban_pavement_roadway_domains" action="action_urban_severity"/>



<!-- =================================================================================================
Display
====================================================================================================== -->
<!-- Form View -->
<record model="ir.ui.view" id="view_urban_pavement_display_form">
        <field name="name">urban_pavement.display.form</field>
        <field name="model">urban_pavement.display</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Display">
                <field name="code"/>
                <field name="name"/>
            </form>
        </field>
</record>

<!-- Tree (List) View -->
<record model="ir.ui.view" id="view_urban_pavement_display_tree">
        <field name="name">urban_pavement.display.tree</field>
        <field name="model">urban_pavement.display</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="Dispaly">
                <field name="code"/>
                <field name="name"/>                
            </tree>
        </field>
</record>

<!-- Action -->
<record model="ir.actions.act_window" id="action_urban_display_evaluator">
        <field name="name">Display</field>
        <field name="res_model">urban_pavement.display</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
</record>
<!-- Menu -->
<menuitem name="Display" id="menu_urban_pavement_display" parent="menu_urban_pavement_roadway_domains" action="action_urban_display_evaluator"/>




<!-- =================================================================================================
Damage
====================================================================================================== -->
<!-- Form View -->
<record model="ir.ui.view" id="view_urban_pavement_damage_form">
        <field name="name">urban_pavement.damage.form</field>
        <field name="model">urban_pavement.damage</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Damage">
                <field name="code"/>
                <field name="name"/>
            </form>
        </field>
</record>

<!-- Tree (List) View -->
<record model="ir.ui.view" id="view_urban_pavement_damage_tree">
        <field name="name">urban_pavement.damage.tree</field>
        <field name="model">urban_pavement.damage</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="Damage">
                <field name="code"/>
                <field name="name"/>
            </tree>
        </field>
</record>

<!-- Action -->
<record model="ir.actions.act_window" id="action_urban_damage_evaluator">
        <field name="name">Damage</field>
        <field name="res_model">urban_pavement.damage</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
</record>
<!-- Menu -->
<menuitem name="Damage" id="menu_urban_pavement_damage" parent="menu_urban_pavement_roadway_domains" action="action_urban_damage_evaluator"/>



<!-- =================================================================================================
Components
====================================================================================================== -->
<!-- Form View -->
<record model="ir.ui.view" id="view_urban_pavement_component_form">
        <field name="name">urban_pavement.component.form</field>
        <field name="model">urban_pavement.component</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Components">
                <field name="damage_id"/>
                <field name="extension"/>
                <field name="severity_id"/>
            </form>
        </field>
</record>

<!-- Tree (List) View -->
<record model="ir.ui.view" id="view_urban_pavement_component_tree">
        <field name="name">urban_pavement.component.tree</field>
        <field name="model">urban_pavement.component</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="Components">
                <field name="damage_id"/>
                <field name="extension"/>
                <field name="severity_id"/>
            </tree>
        </field>
</record>

<!-- Action -->
<record model="ir.actions.act_window" id="action_urban_pavement_component">
        <field name="name">Components</field>
        <field name="res_model">urban_pavement.component</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
</record>




<!-- =================================================================================================
Evaluator
====================================================================================================== -->
<!-- Form View -->
<record model="ir.ui.view" id="view_urban_pavement_evaluator_form">
        <field name="name">urban_pavement.evaluator.form</field>
        <field name="model">urban_pavement.evaluator</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Evaluator">
                <field name="name"/>
                <field name="identification"/>
            </form>
        </field>
</record>

<!-- Tree (List) View -->
<record model="ir.ui.view" id="view_urban_pavement_evaluator_tree">
        <field name="name">urban_pavement.evaluator.tree</field>
        <field name="model">urban_pavement.evaluator</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="Evaluator">
                <field name="name"/>
                <field name="identification"/>
            </tree>
        </field>
</record>

<!-- Action -->
<record model="ir.actions.act_window" id="action_urban_pavement_evaluator">
        <field name="name">Evaluator</field>
        <field name="res_model">urban_pavement.evaluator</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
</record>
<!-- Menu -->
<menuitem name="Evaluator" id="menu_urban_pavement_evaluator" parent="menu_urban_pavement_roadway_domains" action="action_urban_pavement_evaluator"/>

<!-- =================================================================================================
Evaluation 
====================================================================================================== -->
<!-- Form View -->
<record model="ir.ui.view" id="view_urban_pavement_evaluation_form">
        <field name="name">urban_pavement.evaluation.form</field>
        <field name="model">urban_pavement.evaluation</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Evaluation">
             <group colspan="4" col="4">
             	<group colspan="2" col="4">
                	<field name="civ" on_change="search_civ(civ)"/>
                	<field name="pci" readonly="1"/>
                	<field name="unit_display_id"/>
                	<field name="number_slabs"/>
                	<field name="eval_date"/>
                	<field name="evaluator_id"/>
             	</group>     
                <group colspan="2" col="2">
                    <field name="photo" widget="image"/>
                </group>
                <group colspan="4" col="4">
                	<notebook>
                		<page string = "components">
	                		<field name="component_id" on_change="calculate_pci(pci)"/>
                		</page>
              			<page string = "Shape">
                		 	<field name="shape" widget="geo_edit_map" readonly="False"/>
                		</page>                		
                	</notebook>
                </group>
             </group>
            </form>
        </field>
</record>

<!-- Tree (List) View -->
<record model="ir.ui.view" id="view_urban_pavement_evaluation_tree">
        <field name="name">urban_pavement.evaluation.tree</field>
        <field name="model">urban_pavement.evaluation</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="Evaluation">
                <field name="civ"/>
                <field name="pci"/>      
                <field name="eval_date"/>          
            </tree>
        </field>
</record>


<!-- Action -->
<record model="ir.actions.act_window" id="action_urban_pavement_evaluation">
        <field name="name">Evaluation</field>
        <field name="res_model">urban_pavement.evaluation</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form,geoengine</field>
</record>

<!-- Geoengine Views -->

<record  model="ir.ui.view" id="ir_ui_view_urban_pavement_evaluation_OSM" >
            <field name="name">urban_pavement.evaluation.geo_view</field>
            <field name="arch"><![CDATA[
                <form >
                    <field name="code"/>
                    <field name="name"/>                    
                </form>]]></field>
            <field eval="16" name="priority"/>
            <field name="type">geoengine</field>
            <field name="model">urban_pavement.evaluation</field>
</record>

<!-- Geoengine Base Raster -->
<record model="geoengine.raster.layer" id="geoengine_raster_layer_urban_pavement_evaluation">
            <field name="raster_type">osm</field>
            <field name="name">Pavement OSM</field>
            <field name="view_id" ref="ir_ui_view_urban_pavement_evaluation_OSM"/>
            <field eval="0" name="overlay"/>
</record>

<!-- Geoengine Vector Layer -->

<record  model="geoengine.vector.layer" id="geoengine_vector_layer_urban_pavement_evaluation">
            <field name="geo_field_id" ref="urban_pavement.field_urban_pavement_evaluation_shape"/>            
            <field name="name">Bridge</field>
            <field name="view_id" ref="ir_ui_view_urban_pavement_evaluation_OSM"/>
            <field name="geo_repr">basic</field>
            <field name="attribute_field_id" ref="urban_pavement.field_urban_pavement_evaluation_civ"/>
            <field name="begin_color">#FF680A</field>
</record>


<!-- Menu -->
<menuitem name="Evaluation" id="menu_urban_pavement_evaluation" parent="menu_urban_pavement_roadway_component" action="action_urban_pavement_evaluation"/>

</data>
</openerp>
